import{r as e}from"./rolldown-runtime-DGruFWvd.js";import{$ as t,A as n,B as r,C as i,D as a,E as o,F as s,G as c,H as l,I as u,J as ee,K as d,L as f,M as p,N as m,O as h,P as te,Q as ne,R as g,S as re,T as ie,U as ae,V as oe,W as _,X as v,Y as se,Z as ce,_ as y,a as le,at as ue,b,c as x,ct as S,d as C,dt as de,et as fe,f as pe,ft as me,g as w,h as T,ht as E,i as he,it as D,j as ge,k as O,l as k,lt as _e,m as A,mt as ve,n as ye,nt as be,o as xe,ot as Se,p as Ce,pt as we,q as Te,r as Ee,rt as De,s as Oe,st as ke,t as Ae,tt as je,u as Me,ut as Ne,v as Pe,w as Fe,x as Ie,y as Le,z as Re}from"./react-vendor-DFY15N63.js";import"./radix-ui-DamdIxrY.js";import{t as ze}from"./utils-BoMZEuQz.js";(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var Be=ve(),j=e(E(),1),Ve=(e,t)=>{let n=Array(e.length+t.length);for(let t=0;t<e.length;t++)n[t]=e[t];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},He=(e,t)=>({classGroupId:e,validator:t}),Ue=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),We=`-`,Ge=[],Ke=`arbitrary..`,qe=e=>{let t=Xe(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{if(e.startsWith(`[`)&&e.endsWith(`]`))return Ye(e);let n=e.split(We);return Je(n,n[0]===``&&n.length>1?1:0,t)},getConflictingClassGroupIds:(e,t)=>{if(t){let t=r[e],i=n[e];return t?i?Ve(i,t):t:i||Ge}return n[e]||Ge}}},Je=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;let r=e[t],i=n.nextPart.get(r);if(i){let n=Je(e,t+1,i);if(n)return n}let a=n.validators;if(a===null)return;let o=t===0?e.join(We):e.slice(t).join(We),s=a.length;for(let e=0;e<s;e++){let t=a[e];if(t.validator(o))return t.classGroupId}},Ye=e=>e.slice(1,-1).indexOf(`:`)===-1?void 0:(()=>{let t=e.slice(1,-1),n=t.indexOf(`:`),r=t.slice(0,n);return r?Ke+r:void 0})(),Xe=e=>{let{theme:t,classGroups:n}=e;return Ze(n,t)},Ze=(e,t)=>{let n=Ue();for(let r in e){let i=e[r];Qe(i,n,r,t)}return n},Qe=(e,t,n,r)=>{let i=e.length;for(let a=0;a<i;a++){let i=e[a];$e(i,t,n,r)}},$e=(e,t,n,r)=>{if(typeof e==`string`){et(e,t,n);return}if(typeof e==`function`){tt(e,t,n,r);return}nt(e,t,n,r)},et=(e,t,n)=>{let r=e===``?t:rt(t,e);r.classGroupId=n},tt=(e,t,n,r)=>{if(it(e)){Qe(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(He(n,e))},nt=(e,t,n,r)=>{let i=Object.entries(e),a=i.length;for(let e=0;e<a;e++){let[a,o]=i[e];Qe(o,rt(t,a),n,r)}},rt=(e,t)=>{let n=e,r=t.split(We),i=r.length;for(let e=0;e<i;e++){let t=r[e],i=n.nextPart.get(t);i||(i=Ue(),n.nextPart.set(t,i)),n=i}return n},it=e=>`isThemeGetter`in e&&e.isThemeGetter===!0,at=e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null),i=(i,a)=>{n[i]=a,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(e){let t=n[e];if(t!==void 0)return t;if((t=r[e])!==void 0)return i(e,t),t},set(e,t){e in n?n[e]=t:i(e,t)}}},ot=`!`,st=`:`,ct=[],lt=(e,t,n,r,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),ut=e=>{let{prefix:t,experimentalParseClassName:n}=e,r=e=>{let t=[],n=0,r=0,i=0,a,o=e.length;for(let s=0;s<o;s++){let o=e[s];if(n===0&&r===0){if(o===st){t.push(e.slice(i,s)),i=s+1;continue}if(o===`/`){a=s;continue}}o===`[`?n++:o===`]`?n--:o===`(`?r++:o===`)`&&r--}let s=t.length===0?e:e.slice(i),c=s,l=!1;s.endsWith(ot)?(c=s.slice(0,-1),l=!0):s.startsWith(ot)&&(c=s.slice(1),l=!0);let u=a&&a>i?a-i:void 0;return lt(t,l,c,u)};if(t){let e=t+st,n=r;r=t=>t.startsWith(e)?n(t.slice(e.length)):lt(ct,!1,t,void 0,!0)}if(n){let e=r;r=t=>n({className:t,parseClassName:e})}return r},dt=e=>{let t=new Map;return e.orderSensitiveModifiers.forEach((e,n)=>{t.set(e,1e6+n)}),e=>{let n=[],r=[];for(let i=0;i<e.length;i++){let a=e[i],o=a[0]===`[`,s=t.has(a);o||s?(r.length>0&&(r.sort(),n.push(...r),r=[]),n.push(a)):r.push(a)}return r.length>0&&(r.sort(),n.push(...r)),n}},ft=e=>({cache:at(e.cacheSize),parseClassName:ut(e),sortModifiers:dt(e),...qe(e)}),pt=/\s+/,mt=(e,t)=>{let{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=t,o=[],s=e.trim().split(pt),c=``;for(let e=s.length-1;e>=0;--e){let t=s[e],{isExternal:l,modifiers:u,hasImportantModifier:ee,baseClassName:d,maybePostfixModifierPosition:f}=n(t);if(l){c=t+(c.length>0?` `+c:c);continue}let p=!!f,m=r(p?d.substring(0,f):d);if(!m){if(!p){c=t+(c.length>0?` `+c:c);continue}if(m=r(d),!m){c=t+(c.length>0?` `+c:c);continue}p=!1}let h=u.length===0?``:u.length===1?u[0]:a(u).join(`:`),te=ee?h+ot:h,ne=te+m;if(o.indexOf(ne)>-1)continue;o.push(ne);let g=i(m,p);for(let e=0;e<g.length;++e){let t=g[e];o.push(te+t)}c=t+(c.length>0?` `+c:c)}return c},ht=(...e)=>{let t=0,n,r,i=``;for(;t<e.length;)(n=e[t++])&&(r=gt(n))&&(i&&(i+=` `),i+=r);return i},gt=e=>{if(typeof e==`string`)return e;let t,n=``;for(let r=0;r<e.length;r++)e[r]&&(t=gt(e[r]))&&(n&&(n+=` `),n+=t);return n},_t=(e,...t)=>{let n,r,i,a,o=o=>(n=ft(t.reduce((e,t)=>t(e),e())),r=n.cache.get,i=n.cache.set,a=s,s(o)),s=e=>{let t=r(e);if(t)return t;let a=mt(e,n);return i(e,a),a};return a=o,(...e)=>a(ht(...e))},vt=[],M=e=>{let t=t=>t[e]||vt;return t.isThemeGetter=!0,t},yt=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,bt=/^\((?:(\w[\w-]*):)?(.+)\)$/i,xt=/^\d+\/\d+$/,St=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ct=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wt=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Tt=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Et=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,N=e=>xt.test(e),P=e=>!!e&&!Number.isNaN(Number(e)),F=e=>!!e&&Number.isInteger(Number(e)),Dt=e=>e.endsWith(`%`)&&P(e.slice(0,-1)),I=e=>St.test(e),Ot=()=>!0,kt=e=>Ct.test(e)&&!wt.test(e),At=()=>!1,jt=e=>Tt.test(e),Mt=e=>Et.test(e),Nt=e=>!L(e)&&!z(e),Pt=e=>V(e,Kt,At),L=e=>yt.test(e),R=e=>V(e,qt,kt),Ft=e=>V(e,Jt,P),It=e=>V(e,Wt,At),Lt=e=>V(e,Gt,Mt),Rt=e=>V(e,Xt,jt),z=e=>bt.test(e),B=e=>H(e,qt),zt=e=>H(e,Yt),Bt=e=>H(e,Wt),Vt=e=>H(e,Kt),Ht=e=>H(e,Gt),Ut=e=>H(e,Xt,!0),V=(e,t,n)=>{let r=yt.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},H=(e,t,n=!1)=>{let r=bt.exec(e);return r?r[1]?t(r[1]):n:!1},Wt=e=>e===`position`||e===`percentage`,Gt=e=>e===`image`||e===`url`,Kt=e=>e===`length`||e===`size`||e===`bg-size`,qt=e=>e===`length`,Jt=e=>e===`number`,Yt=e=>e===`family-name`,Xt=e=>e===`shadow`,Zt=_t(()=>{let e=M(`color`),t=M(`font`),n=M(`text`),r=M(`font-weight`),i=M(`tracking`),a=M(`leading`),o=M(`breakpoint`),s=M(`container`),c=M(`spacing`),l=M(`radius`),u=M(`shadow`),ee=M(`inset-shadow`),d=M(`text-shadow`),f=M(`drop-shadow`),p=M(`blur`),m=M(`perspective`),h=M(`aspect`),te=M(`ease`),ne=M(`animate`),g=()=>[`auto`,`avoid`,`all`,`avoid-page`,`page`,`left`,`right`,`column`],re=()=>[`center`,`top`,`bottom`,`left`,`right`,`top-left`,`left-top`,`top-right`,`right-top`,`bottom-right`,`right-bottom`,`bottom-left`,`left-bottom`],ie=()=>[...re(),z,L],ae=()=>[`auto`,`hidden`,`clip`,`visible`,`scroll`],oe=()=>[`auto`,`contain`,`none`],_=()=>[z,L,c],v=()=>[N,`full`,`auto`,..._()],se=()=>[F,`none`,`subgrid`,z,L],ce=()=>[`auto`,{span:[`full`,F,z,L]},F,z,L],y=()=>[F,`auto`,z,L],le=()=>[`auto`,`min`,`max`,`fr`,z,L],ue=()=>[`start`,`end`,`center`,`between`,`around`,`evenly`,`stretch`,`baseline`,`center-safe`,`end-safe`],b=()=>[`start`,`end`,`center`,`stretch`,`center-safe`,`end-safe`],x=()=>[`auto`,..._()],S=()=>[N,`auto`,`full`,`dvw`,`dvh`,`lvw`,`lvh`,`svw`,`svh`,`min`,`max`,`fit`,..._()],C=()=>[e,z,L],de=()=>[...re(),Bt,It,{position:[z,L]}],fe=()=>[`no-repeat`,{repeat:[``,`x`,`y`,`space`,`round`]}],pe=()=>[`auto`,`cover`,`contain`,Vt,Pt,{size:[z,L]}],me=()=>[Dt,B,R],w=()=>[``,`none`,`full`,l,z,L],T=()=>[``,P,B,R],E=()=>[`solid`,`dashed`,`dotted`,`double`],he=()=>[`normal`,`multiply`,`screen`,`overlay`,`darken`,`lighten`,`color-dodge`,`color-burn`,`hard-light`,`soft-light`,`difference`,`exclusion`,`hue`,`saturation`,`color`,`luminosity`],D=()=>[P,Dt,Bt,It],ge=()=>[``,`none`,p,z,L],O=()=>[`none`,P,z,L],k=()=>[`none`,P,z,L],_e=()=>[P,z,L],A=()=>[N,`full`,..._()];return{cacheSize:500,theme:{animate:[`spin`,`ping`,`pulse`,`bounce`],aspect:[`video`],blur:[I],breakpoint:[I],color:[Ot],container:[I],"drop-shadow":[I],ease:[`in`,`out`,`in-out`],font:[Nt],"font-weight":[`thin`,`extralight`,`light`,`normal`,`medium`,`semibold`,`bold`,`extrabold`,`black`],"inset-shadow":[I],leading:[`none`,`tight`,`snug`,`normal`,`relaxed`,`loose`],perspective:[`dramatic`,`near`,`normal`,`midrange`,`distant`,`none`],radius:[I],shadow:[I],spacing:[`px`,P],text:[I],"text-shadow":[I],tracking:[`tighter`,`tight`,`normal`,`wide`,`wider`,`widest`]},classGroups:{aspect:[{aspect:[`auto`,`square`,N,L,z,h]}],container:[`container`],columns:[{columns:[P,L,z,s]}],"break-after":[{"break-after":g()}],"break-before":[{"break-before":g()}],"break-inside":[{"break-inside":[`auto`,`avoid`,`avoid-page`,`avoid-column`]}],"box-decoration":[{"box-decoration":[`slice`,`clone`]}],box:[{box:[`border`,`content`]}],display:[`block`,`inline-block`,`inline`,`flex`,`inline-flex`,`table`,`inline-table`,`table-caption`,`table-cell`,`table-column`,`table-column-group`,`table-footer-group`,`table-header-group`,`table-row-group`,`table-row`,`flow-root`,`grid`,`inline-grid`,`contents`,`list-item`,`hidden`],sr:[`sr-only`,`not-sr-only`],float:[{float:[`right`,`left`,`none`,`start`,`end`]}],clear:[{clear:[`left`,`right`,`both`,`none`,`start`,`end`]}],isolation:[`isolate`,`isolation-auto`],"object-fit":[{object:[`contain`,`cover`,`fill`,`none`,`scale-down`]}],"object-position":[{object:ie()}],overflow:[{overflow:ae()}],"overflow-x":[{"overflow-x":ae()}],"overflow-y":[{"overflow-y":ae()}],overscroll:[{overscroll:oe()}],"overscroll-x":[{"overscroll-x":oe()}],"overscroll-y":[{"overscroll-y":oe()}],position:[`static`,`fixed`,`absolute`,`relative`,`sticky`],inset:[{inset:v()}],"inset-x":[{"inset-x":v()}],"inset-y":[{"inset-y":v()}],start:[{start:v()}],end:[{end:v()}],top:[{top:v()}],right:[{right:v()}],bottom:[{bottom:v()}],left:[{left:v()}],visibility:[`visible`,`invisible`,`collapse`],z:[{z:[F,`auto`,z,L]}],basis:[{basis:[N,`full`,`auto`,s,..._()]}],"flex-direction":[{flex:[`row`,`row-reverse`,`col`,`col-reverse`]}],"flex-wrap":[{flex:[`nowrap`,`wrap`,`wrap-reverse`]}],flex:[{flex:[P,N,`auto`,`initial`,`none`,L]}],grow:[{grow:[``,P,z,L]}],shrink:[{shrink:[``,P,z,L]}],order:[{order:[F,`first`,`last`,`none`,z,L]}],"grid-cols":[{"grid-cols":se()}],"col-start-end":[{col:ce()}],"col-start":[{"col-start":y()}],"col-end":[{"col-end":y()}],"grid-rows":[{"grid-rows":se()}],"row-start-end":[{row:ce()}],"row-start":[{"row-start":y()}],"row-end":[{"row-end":y()}],"grid-flow":[{"grid-flow":[`row`,`col`,`dense`,`row-dense`,`col-dense`]}],"auto-cols":[{"auto-cols":le()}],"auto-rows":[{"auto-rows":le()}],gap:[{gap:_()}],"gap-x":[{"gap-x":_()}],"gap-y":[{"gap-y":_()}],"justify-content":[{justify:[...ue(),`normal`]}],"justify-items":[{"justify-items":[...b(),`normal`]}],"justify-self":[{"justify-self":[`auto`,...b()]}],"align-content":[{content:[`normal`,...ue()]}],"align-items":[{items:[...b(),{baseline:[``,`last`]}]}],"align-self":[{self:[`auto`,...b(),{baseline:[``,`last`]}]}],"place-content":[{"place-content":ue()}],"place-items":[{"place-items":[...b(),`baseline`]}],"place-self":[{"place-self":[`auto`,...b()]}],p:[{p:_()}],px:[{px:_()}],py:[{py:_()}],ps:[{ps:_()}],pe:[{pe:_()}],pt:[{pt:_()}],pr:[{pr:_()}],pb:[{pb:_()}],pl:[{pl:_()}],m:[{m:x()}],mx:[{mx:x()}],my:[{my:x()}],ms:[{ms:x()}],me:[{me:x()}],mt:[{mt:x()}],mr:[{mr:x()}],mb:[{mb:x()}],ml:[{ml:x()}],"space-x":[{"space-x":_()}],"space-x-reverse":[`space-x-reverse`],"space-y":[{"space-y":_()}],"space-y-reverse":[`space-y-reverse`],size:[{size:S()}],w:[{w:[s,`screen`,...S()]}],"min-w":[{"min-w":[s,`screen`,`none`,...S()]}],"max-w":[{"max-w":[s,`screen`,`none`,`prose`,{screen:[o]},...S()]}],h:[{h:[`screen`,`lh`,...S()]}],"min-h":[{"min-h":[`screen`,`lh`,`none`,...S()]}],"max-h":[{"max-h":[`screen`,`lh`,...S()]}],"font-size":[{text:[`base`,n,B,R]}],"font-smoothing":[`antialiased`,`subpixel-antialiased`],"font-style":[`italic`,`not-italic`],"font-weight":[{font:[r,z,Ft]}],"font-stretch":[{"font-stretch":[`ultra-condensed`,`extra-condensed`,`condensed`,`semi-condensed`,`normal`,`semi-expanded`,`expanded`,`extra-expanded`,`ultra-expanded`,Dt,L]}],"font-family":[{font:[zt,L,t]}],"fvn-normal":[`normal-nums`],"fvn-ordinal":[`ordinal`],"fvn-slashed-zero":[`slashed-zero`],"fvn-figure":[`lining-nums`,`oldstyle-nums`],"fvn-spacing":[`proportional-nums`,`tabular-nums`],"fvn-fraction":[`diagonal-fractions`,`stacked-fractions`],tracking:[{tracking:[i,z,L]}],"line-clamp":[{"line-clamp":[P,`none`,z,Ft]}],leading:[{leading:[a,..._()]}],"list-image":[{"list-image":[`none`,z,L]}],"list-style-position":[{list:[`inside`,`outside`]}],"list-style-type":[{list:[`disc`,`decimal`,`none`,z,L]}],"text-alignment":[{text:[`left`,`center`,`right`,`justify`,`start`,`end`]}],"placeholder-color":[{placeholder:C()}],"text-color":[{text:C()}],"text-decoration":[`underline`,`overline`,`line-through`,`no-underline`],"text-decoration-style":[{decoration:[...E(),`wavy`]}],"text-decoration-thickness":[{decoration:[P,`from-font`,`auto`,z,R]}],"text-decoration-color":[{decoration:C()}],"underline-offset":[{"underline-offset":[P,`auto`,z,L]}],"text-transform":[`uppercase`,`lowercase`,`capitalize`,`normal-case`],"text-overflow":[`truncate`,`text-ellipsis`,`text-clip`],"text-wrap":[{text:[`wrap`,`nowrap`,`balance`,`pretty`]}],indent:[{indent:_()}],"vertical-align":[{align:[`baseline`,`top`,`middle`,`bottom`,`text-top`,`text-bottom`,`sub`,`super`,z,L]}],whitespace:[{whitespace:[`normal`,`nowrap`,`pre`,`pre-line`,`pre-wrap`,`break-spaces`]}],break:[{break:[`normal`,`words`,`all`,`keep`]}],wrap:[{wrap:[`break-word`,`anywhere`,`normal`]}],hyphens:[{hyphens:[`none`,`manual`,`auto`]}],content:[{content:[`none`,z,L]}],"bg-attachment":[{bg:[`fixed`,`local`,`scroll`]}],"bg-clip":[{"bg-clip":[`border`,`padding`,`content`,`text`]}],"bg-origin":[{"bg-origin":[`border`,`padding`,`content`]}],"bg-position":[{bg:de()}],"bg-repeat":[{bg:fe()}],"bg-size":[{bg:pe()}],"bg-image":[{bg:[`none`,{linear:[{to:[`t`,`tr`,`r`,`br`,`b`,`bl`,`l`,`tl`]},F,z,L],radial:[``,z,L],conic:[F,z,L]},Ht,Lt]}],"bg-color":[{bg:C()}],"gradient-from-pos":[{from:me()}],"gradient-via-pos":[{via:me()}],"gradient-to-pos":[{to:me()}],"gradient-from":[{from:C()}],"gradient-via":[{via:C()}],"gradient-to":[{to:C()}],rounded:[{rounded:w()}],"rounded-s":[{"rounded-s":w()}],"rounded-e":[{"rounded-e":w()}],"rounded-t":[{"rounded-t":w()}],"rounded-r":[{"rounded-r":w()}],"rounded-b":[{"rounded-b":w()}],"rounded-l":[{"rounded-l":w()}],"rounded-ss":[{"rounded-ss":w()}],"rounded-se":[{"rounded-se":w()}],"rounded-ee":[{"rounded-ee":w()}],"rounded-es":[{"rounded-es":w()}],"rounded-tl":[{"rounded-tl":w()}],"rounded-tr":[{"rounded-tr":w()}],"rounded-br":[{"rounded-br":w()}],"rounded-bl":[{"rounded-bl":w()}],"border-w":[{border:T()}],"border-w-x":[{"border-x":T()}],"border-w-y":[{"border-y":T()}],"border-w-s":[{"border-s":T()}],"border-w-e":[{"border-e":T()}],"border-w-t":[{"border-t":T()}],"border-w-r":[{"border-r":T()}],"border-w-b":[{"border-b":T()}],"border-w-l":[{"border-l":T()}],"divide-x":[{"divide-x":T()}],"divide-x-reverse":[`divide-x-reverse`],"divide-y":[{"divide-y":T()}],"divide-y-reverse":[`divide-y-reverse`],"border-style":[{border:[...E(),`hidden`,`none`]}],"divide-style":[{divide:[...E(),`hidden`,`none`]}],"border-color":[{border:C()}],"border-color-x":[{"border-x":C()}],"border-color-y":[{"border-y":C()}],"border-color-s":[{"border-s":C()}],"border-color-e":[{"border-e":C()}],"border-color-t":[{"border-t":C()}],"border-color-r":[{"border-r":C()}],"border-color-b":[{"border-b":C()}],"border-color-l":[{"border-l":C()}],"divide-color":[{divide:C()}],"outline-style":[{outline:[...E(),`none`,`hidden`]}],"outline-offset":[{"outline-offset":[P,z,L]}],"outline-w":[{outline:[``,P,B,R]}],"outline-color":[{outline:C()}],shadow:[{shadow:[``,`none`,u,Ut,Rt]}],"shadow-color":[{shadow:C()}],"inset-shadow":[{"inset-shadow":[`none`,ee,Ut,Rt]}],"inset-shadow-color":[{"inset-shadow":C()}],"ring-w":[{ring:T()}],"ring-w-inset":[`ring-inset`],"ring-color":[{ring:C()}],"ring-offset-w":[{"ring-offset":[P,R]}],"ring-offset-color":[{"ring-offset":C()}],"inset-ring-w":[{"inset-ring":T()}],"inset-ring-color":[{"inset-ring":C()}],"text-shadow":[{"text-shadow":[`none`,d,Ut,Rt]}],"text-shadow-color":[{"text-shadow":C()}],opacity:[{opacity:[P,z,L]}],"mix-blend":[{"mix-blend":[...he(),`plus-darker`,`plus-lighter`]}],"bg-blend":[{"bg-blend":he()}],"mask-clip":[{"mask-clip":[`border`,`padding`,`content`,`fill`,`stroke`,`view`]},`mask-no-clip`],"mask-composite":[{mask:[`add`,`subtract`,`intersect`,`exclude`]}],"mask-image-linear-pos":[{"mask-linear":[P]}],"mask-image-linear-from-pos":[{"mask-linear-from":D()}],"mask-image-linear-to-pos":[{"mask-linear-to":D()}],"mask-image-linear-from-color":[{"mask-linear-from":C()}],"mask-image-linear-to-color":[{"mask-linear-to":C()}],"mask-image-t-from-pos":[{"mask-t-from":D()}],"mask-image-t-to-pos":[{"mask-t-to":D()}],"mask-image-t-from-color":[{"mask-t-from":C()}],"mask-image-t-to-color":[{"mask-t-to":C()}],"mask-image-r-from-pos":[{"mask-r-from":D()}],"mask-image-r-to-pos":[{"mask-r-to":D()}],"mask-image-r-from-color":[{"mask-r-from":C()}],"mask-image-r-to-color":[{"mask-r-to":C()}],"mask-image-b-from-pos":[{"mask-b-from":D()}],"mask-image-b-to-pos":[{"mask-b-to":D()}],"mask-image-b-from-color":[{"mask-b-from":C()}],"mask-image-b-to-color":[{"mask-b-to":C()}],"mask-image-l-from-pos":[{"mask-l-from":D()}],"mask-image-l-to-pos":[{"mask-l-to":D()}],"mask-image-l-from-color":[{"mask-l-from":C()}],"mask-image-l-to-color":[{"mask-l-to":C()}],"mask-image-x-from-pos":[{"mask-x-from":D()}],"mask-image-x-to-pos":[{"mask-x-to":D()}],"mask-image-x-from-color":[{"mask-x-from":C()}],"mask-image-x-to-color":[{"mask-x-to":C()}],"mask-image-y-from-pos":[{"mask-y-from":D()}],"mask-image-y-to-pos":[{"mask-y-to":D()}],"mask-image-y-from-color":[{"mask-y-from":C()}],"mask-image-y-to-color":[{"mask-y-to":C()}],"mask-image-radial":[{"mask-radial":[z,L]}],"mask-image-radial-from-pos":[{"mask-radial-from":D()}],"mask-image-radial-to-pos":[{"mask-radial-to":D()}],"mask-image-radial-from-color":[{"mask-radial-from":C()}],"mask-image-radial-to-color":[{"mask-radial-to":C()}],"mask-image-radial-shape":[{"mask-radial":[`circle`,`ellipse`]}],"mask-image-radial-size":[{"mask-radial":[{closest:[`side`,`corner`],farthest:[`side`,`corner`]}]}],"mask-image-radial-pos":[{"mask-radial-at":re()}],"mask-image-conic-pos":[{"mask-conic":[P]}],"mask-image-conic-from-pos":[{"mask-conic-from":D()}],"mask-image-conic-to-pos":[{"mask-conic-to":D()}],"mask-image-conic-from-color":[{"mask-conic-from":C()}],"mask-image-conic-to-color":[{"mask-conic-to":C()}],"mask-mode":[{mask:[`alpha`,`luminance`,`match`]}],"mask-origin":[{"mask-origin":[`border`,`padding`,`content`,`fill`,`stroke`,`view`]}],"mask-position":[{mask:de()}],"mask-repeat":[{mask:fe()}],"mask-size":[{mask:pe()}],"mask-type":[{"mask-type":[`alpha`,`luminance`]}],"mask-image":[{mask:[`none`,z,L]}],filter:[{filter:[``,`none`,z,L]}],blur:[{blur:ge()}],brightness:[{brightness:[P,z,L]}],contrast:[{contrast:[P,z,L]}],"drop-shadow":[{"drop-shadow":[``,`none`,f,Ut,Rt]}],"drop-shadow-color":[{"drop-shadow":C()}],grayscale:[{grayscale:[``,P,z,L]}],"hue-rotate":[{"hue-rotate":[P,z,L]}],invert:[{invert:[``,P,z,L]}],saturate:[{saturate:[P,z,L]}],sepia:[{sepia:[``,P,z,L]}],"backdrop-filter":[{"backdrop-filter":[``,`none`,z,L]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[P,z,L]}],"backdrop-contrast":[{"backdrop-contrast":[P,z,L]}],"backdrop-grayscale":[{"backdrop-grayscale":[``,P,z,L]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[P,z,L]}],"backdrop-invert":[{"backdrop-invert":[``,P,z,L]}],"backdrop-opacity":[{"backdrop-opacity":[P,z,L]}],"backdrop-saturate":[{"backdrop-saturate":[P,z,L]}],"backdrop-sepia":[{"backdrop-sepia":[``,P,z,L]}],"border-collapse":[{border:[`collapse`,`separate`]}],"border-spacing":[{"border-spacing":_()}],"border-spacing-x":[{"border-spacing-x":_()}],"border-spacing-y":[{"border-spacing-y":_()}],"table-layout":[{table:[`auto`,`fixed`]}],caption:[{caption:[`top`,`bottom`]}],transition:[{transition:[``,`all`,`colors`,`opacity`,`shadow`,`transform`,`none`,z,L]}],"transition-behavior":[{transition:[`normal`,`discrete`]}],duration:[{duration:[P,`initial`,z,L]}],ease:[{ease:[`linear`,`initial`,te,z,L]}],delay:[{delay:[P,z,L]}],animate:[{animate:[`none`,ne,z,L]}],backface:[{backface:[`hidden`,`visible`]}],perspective:[{perspective:[m,z,L]}],"perspective-origin":[{"perspective-origin":ie()}],rotate:[{rotate:O()}],"rotate-x":[{"rotate-x":O()}],"rotate-y":[{"rotate-y":O()}],"rotate-z":[{"rotate-z":O()}],scale:[{scale:k()}],"scale-x":[{"scale-x":k()}],"scale-y":[{"scale-y":k()}],"scale-z":[{"scale-z":k()}],"scale-3d":[`scale-3d`],skew:[{skew:_e()}],"skew-x":[{"skew-x":_e()}],"skew-y":[{"skew-y":_e()}],transform:[{transform:[z,L,``,`none`,`gpu`,`cpu`]}],"transform-origin":[{origin:ie()}],"transform-style":[{transform:[`3d`,`flat`]}],translate:[{translate:A()}],"translate-x":[{"translate-x":A()}],"translate-y":[{"translate-y":A()}],"translate-z":[{"translate-z":A()}],"translate-none":[`translate-none`],accent:[{accent:C()}],appearance:[{appearance:[`none`,`auto`]}],"caret-color":[{caret:C()}],"color-scheme":[{scheme:[`normal`,`dark`,`light`,`light-dark`,`only-dark`,`only-light`]}],cursor:[{cursor:[`auto`,`default`,`pointer`,`wait`,`text`,`move`,`help`,`not-allowed`,`none`,`context-menu`,`progress`,`cell`,`crosshair`,`vertical-text`,`alias`,`copy`,`no-drop`,`grab`,`grabbing`,`all-scroll`,`col-resize`,`row-resize`,`n-resize`,`e-resize`,`s-resize`,`w-resize`,`ne-resize`,`nw-resize`,`se-resize`,`sw-resize`,`ew-resize`,`ns-resize`,`nesw-resize`,`nwse-resize`,`zoom-in`,`zoom-out`,z,L]}],"field-sizing":[{"field-sizing":[`fixed`,`content`]}],"pointer-events":[{"pointer-events":[`auto`,`none`]}],resize:[{resize:[`none`,``,`y`,`x`]}],"scroll-behavior":[{scroll:[`auto`,`smooth`]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:[`start`,`end`,`center`,`align-none`]}],"snap-stop":[{snap:[`normal`,`always`]}],"snap-type":[{snap:[`none`,`x`,`y`,`both`]}],"snap-strictness":[{snap:[`mandatory`,`proximity`]}],touch:[{touch:[`auto`,`none`,`manipulation`]}],"touch-x":[{"touch-pan":[`x`,`left`,`right`]}],"touch-y":[{"touch-pan":[`y`,`up`,`down`]}],"touch-pz":[`touch-pinch-zoom`],select:[{select:[`none`,`text`,`all`,`auto`]}],"will-change":[{"will-change":[`auto`,`scroll`,`contents`,`transform`,z,L]}],fill:[{fill:[`none`,...C()]}],"stroke-w":[{stroke:[P,B,R,Ft]}],stroke:[{stroke:[`none`,...C()]}],"forced-color-adjust":[{"forced-color-adjust":[`auto`,`none`]}]},conflictingClassGroups:{overflow:[`overflow-x`,`overflow-y`],overscroll:[`overscroll-x`,`overscroll-y`],inset:[`inset-x`,`inset-y`,`start`,`end`,`top`,`right`,`bottom`,`left`],"inset-x":[`right`,`left`],"inset-y":[`top`,`bottom`],flex:[`basis`,`grow`,`shrink`],gap:[`gap-x`,`gap-y`],p:[`px`,`py`,`ps`,`pe`,`pt`,`pr`,`pb`,`pl`],px:[`pr`,`pl`],py:[`pt`,`pb`],m:[`mx`,`my`,`ms`,`me`,`mt`,`mr`,`mb`,`ml`],mx:[`mr`,`ml`],my:[`mt`,`mb`],size:[`w`,`h`],"font-size":[`leading`],"fvn-normal":[`fvn-ordinal`,`fvn-slashed-zero`,`fvn-figure`,`fvn-spacing`,`fvn-fraction`],"fvn-ordinal":[`fvn-normal`],"fvn-slashed-zero":[`fvn-normal`],"fvn-figure":[`fvn-normal`],"fvn-spacing":[`fvn-normal`],"fvn-fraction":[`fvn-normal`],"line-clamp":[`display`,`overflow`],rounded:[`rounded-s`,`rounded-e`,`rounded-t`,`rounded-r`,`rounded-b`,`rounded-l`,`rounded-ss`,`rounded-se`,`rounded-ee`,`rounded-es`,`rounded-tl`,`rounded-tr`,`rounded-br`,`rounded-bl`],"rounded-s":[`rounded-ss`,`rounded-es`],"rounded-e":[`rounded-se`,`rounded-ee`],"rounded-t":[`rounded-tl`,`rounded-tr`],"rounded-r":[`rounded-tr`,`rounded-br`],"rounded-b":[`rounded-br`,`rounded-bl`],"rounded-l":[`rounded-tl`,`rounded-bl`],"border-spacing":[`border-spacing-x`,`border-spacing-y`],"border-w":[`border-w-x`,`border-w-y`,`border-w-s`,`border-w-e`,`border-w-t`,`border-w-r`,`border-w-b`,`border-w-l`],"border-w-x":[`border-w-r`,`border-w-l`],"border-w-y":[`border-w-t`,`border-w-b`],"border-color":[`border-color-x`,`border-color-y`,`border-color-s`,`border-color-e`,`border-color-t`,`border-color-r`,`border-color-b`,`border-color-l`],"border-color-x":[`border-color-r`,`border-color-l`],"border-color-y":[`border-color-t`,`border-color-b`],translate:[`translate-x`,`translate-y`,`translate-none`],"translate-none":[`translate`,`translate-x`,`translate-y`,`translate-z`],"scroll-m":[`scroll-mx`,`scroll-my`,`scroll-ms`,`scroll-me`,`scroll-mt`,`scroll-mr`,`scroll-mb`,`scroll-ml`],"scroll-mx":[`scroll-mr`,`scroll-ml`],"scroll-my":[`scroll-mt`,`scroll-mb`],"scroll-p":[`scroll-px`,`scroll-py`,`scroll-ps`,`scroll-pe`,`scroll-pt`,`scroll-pr`,`scroll-pb`,`scroll-pl`],"scroll-px":[`scroll-pr`,`scroll-pl`],"scroll-py":[`scroll-pt`,`scroll-pb`],touch:[`touch-x`,`touch-y`,`touch-pz`],"touch-x":[`touch`],"touch-y":[`touch`],"touch-pz":[`touch`]},conflictingClassGroupModifiers:{"font-size":[`leading`]},orderSensitiveModifiers:[`*`,`**`,`after`,`backdrop`,`before`,`details-content`,`file`,`first-letter`,`first-line`,`marker`,`placeholder`,`selection`]}});function U(...e){return Zt(ne(e))}var W=De(),Qt=j.forwardRef(({className:e,...t},n)=>(0,W.jsx)(je,{ref:n,className:U(`relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t}));Qt.displayName=je.displayName;var $t=j.forwardRef(({className:e,...t},n)=>(0,W.jsx)(fe,{ref:n,className:U(`aspect-square h-full w-full`,e),...t}));$t.displayName=fe.displayName;var en=j.forwardRef(({className:e,...n},r)=>(0,W.jsx)(t,{ref:r,className:U(`flex h-full w-full items-center justify-center rounded-full bg-muted`,e),...n}));en.displayName=t.displayName;var tn=j.forwardRef(({className:e,children:t,...n},r)=>(0,W.jsxs)(ee,{ref:r,className:U(`relative overflow-hidden`,e),...n,children:[(0,W.jsx)(ce,{className:`h-full w-full rounded-[inherit]`,children:t}),(0,W.jsx)(nn,{}),(0,W.jsx)(Te,{})]}));tn.displayName=ee.displayName;var nn=j.forwardRef(({className:e,orientation:t=`vertical`,...n},r)=>(0,W.jsx)(se,{ref:r,orientation:t,className:U(`flex touch-none select-none transition-colors`,t===`vertical`&&`h-full w-2.5 border-l border-l-transparent p-[1px]`,t===`horizontal`&&`h-2.5 flex-col border-t border-t-transparent p-[1px]`,e),...n,children:(0,W.jsx)(v,{className:`relative flex-1 rounded-full bg-border`})}));nn.displayName=se.displayName;function rn(e){return[`#FF516A`,`#FFA85C`,`#D669ED`,`#54CB68`,`#28C9B7`,`#2A9EF1`,`#FF719A`][String(e).split(``).reduce((e,t)=>e+t.charCodeAt(0),0)%7]}function an({uuid:e}){let[t,n]=(0,j.useState)([]),[r,i]=(0,j.useState)(!0),[a,o]=(0,j.useState)(null);return(0,j.useEffect)(()=>{fetch(`/api/messages/merged/${e}`).then(e=>{if(!e.ok)throw Error(`Failed to fetch messages`);return e.json()}).then(e=>{n(e),i(!1)}).catch(e=>{o(e.message),i(!1)})},[e]),r?(0,W.jsx)(`div`,{className:`p-4 text-center text-slate-600`,children:`加载中...`}):a?(0,W.jsxs)(`div`,{className:`p-4 text-center text-red-500`,children:[`错误: `,a]}):(0,W.jsx)(`div`,{className:`w-full min-h-screen bg-white`,children:(0,W.jsx)(tn,{className:`h-screen px-4 py-4`,children:(0,W.jsx)(`div`,{className:`w-full max-w-4xl mx-auto`,children:t.map((e,t)=>(0,W.jsx)(on,{msg:e,idx:t},t))})})})}function on({msg:e,idx:t}){let n=e.user_id??e.sender_id??e.sender?.id??`user${t}`,r=e.nickname||e.card||e.sender?.name||`未知用户`,i=e.avatar||(n&&n!==`user${t}`?`/api/avatar/qq/${n}`:void 0),a=e.time?new Date(e.time*1e3).toLocaleString(`zh-CN`,{hour:`2-digit`,minute:`2-digit`,hour12:!1}):``,o=rn(n);return(0,W.jsxs)(`div`,{className:`flex my-2.5`,children:[(0,W.jsx)(`div`,{className:`w-[50px] min-w-[50px] max-w-[50px] flex justify-center items-end`,children:(0,W.jsxs)(Qt,{className:`h-9 w-9 sticky bottom-2.5 z-[2]`,style:{width:`36px`,height:`36px`,minWidth:`36px`},children:[(0,W.jsx)($t,{src:i,alt:r,referrerPolicy:`no-referrer`,onError:e=>{e.currentTarget.style.display=`none`}}),(0,W.jsx)(en,{className:`bg-gray-300 text-white font-bold text-sm`,children:r[0]||`?`})]})}),(0,W.jsxs)(`div`,{className:`flex-grow`,children:[(0,W.jsx)(`div`,{className:`sticky top-0 z-[1] w-max min-w-0 rounded-[10px] px-2.5 py-1 m-1 text-sm font-bold backdrop-blur-md`,style:{color:o,backgroundColor:`rgba(var(--background-rgb, 255, 255, 255), 0.8)`},children:r}),(0,W.jsxs)(`div`,{className:`w-max min-w-[100px] max-w-[calc(100vw-100px)] m-1 px-2.5 py-1 text-base rounded-r-[10px] rounded-bl-[10px] rounded-tl-none`,style:{backgroundColor:`rgba(136, 136, 136, 0.09)`},children:[(0,W.jsx)(`div`,{className:`whitespace-pre-line`,children:sn(e.message||[])}),a&&(0,W.jsx)(`div`,{className:`mt-0.5 text-right text-xs text-gray-500`,children:a})]})]})]})}function sn(e){return Array.isArray(e)?e.map((e,t)=>{let n=e?.type||e?.data?.type,r=e?.data||e||{};if(n===`text`){let n=r.text??e?.text??``;return(0,W.jsx)(`div`,{className:`space-y-0.5`,children:String(n).split(/\n/).map((e,t)=>(0,W.jsx)(`p`,{className:`m-0`,children:e||`\xA0`},t))},t)}if(n===`image`||n===`flash`||n===`bface`){let n=r.url||r.file||e?.url||e?.file;return n?(0,W.jsx)(`div`,{className:`my-1`,children:(0,W.jsx)(`img`,{src:n,alt:`Image`,className:`rounded-md max-w-[200px] cursor-pointer hover:opacity-90 transition-opacity`,referrerPolicy:`no-referrer`,onClick:()=>window.open(n,`_blank`)})},t):(0,W.jsx)(`span`,{children:`[image]`},t)}if(n===`video`||n===`video-loop`){let i=r.url||r.file||e?.url||e?.file;return i?(0,W.jsx)(`div`,{className:`my-1`,children:(0,W.jsx)(`video`,{src:i,controls:n===`video`,autoPlay:n===`video-loop`,muted:n===`video-loop`,loop:n===`video-loop`,className:`rounded-md max-w-[200px]`,style:{width:200}})},t):(0,W.jsx)(`span`,{children:`[video]`},t)}if(n===`record`){let n=r.url||r.file||e?.url||e?.file;return n?(0,W.jsx)(`div`,{className:`my-1`,children:(0,W.jsx)(`audio`,{src:n,controls:!0,className:`max-w-full`})},t):(0,W.jsx)(`span`,{children:`[语音]`},t)}return n===`face`||n===`sface`||n===`at`?(0,W.jsxs)(`span`,{children:[`[`,n,`: `,r.id||r.text||``,`]`]},t):(0,W.jsxs)(`span`,{children:[`[`,n||`unknown`,`]`]},t)}):null}var cn=j.forwardRef(({className:e,...t},n)=>(0,W.jsx)(`div`,{className:`relative w-full overflow-auto`,children:(0,W.jsx)(`table`,{ref:n,className:U(`w-full caption-bottom text-sm`,e),...t})}));cn.displayName=`Table`;var ln=j.forwardRef(({className:e,...t},n)=>(0,W.jsx)(`thead`,{ref:n,className:U(`[&_tr]:border-b`,e),...t}));ln.displayName=`TableHeader`;var un=j.forwardRef(({className:e,...t},n)=>(0,W.jsx)(`tbody`,{ref:n,className:U(`[&_tr:last-child]:border-0`,e),...t}));un.displayName=`TableBody`;var dn=j.forwardRef(({className:e,...t},n)=>(0,W.jsx)(`tfoot`,{ref:n,className:U(`border-t bg-muted/50 font-medium [&>tr]:last:border-b-0`,e),...t}));dn.displayName=`TableFooter`;var fn=j.forwardRef(({className:e,...t},n)=>(0,W.jsx)(`tr`,{ref:n,className:U(`border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted`,e),...t}));fn.displayName=`TableRow`;var G=j.forwardRef(({className:e,...t},n)=>(0,W.jsx)(`th`,{ref:n,className:U(`h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]`,e),...t}));G.displayName=`TableHead`;var K=j.forwardRef(({className:e,...t},n)=>(0,W.jsx)(`td`,{ref:n,className:U(`p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]`,e),...t}));K.displayName=`TableCell`;var pn=j.forwardRef(({className:e,...t},n)=>(0,W.jsx)(`caption`,{ref:n,className:U(`mt-4 text-sm text-muted-foreground`,e),...t}));pn.displayName=`TableCaption`;var mn=j.forwardRef(({className:e,type:t,...n},r)=>(0,W.jsx)(`input`,{type:t,className:U(`flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm`,e),ref:r,...n}));mn.displayName=`Input`;var hn=ze(`inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0`,{variants:{variant:{default:`bg-primary text-primary-foreground shadow hover:bg-primary/90`,destructive:`bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90`,outline:`border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground`,secondary:`bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80`,ghost:`hover:bg-accent hover:text-accent-foreground`,link:`text-primary underline-offset-4 hover:underline`},size:{default:`h-9 px-4 py-2`,sm:`h-8 rounded-md px-3 text-xs`,lg:`h-10 rounded-md px-8`,icon:`h-9 w-9`}},defaultVariants:{variant:`default`,size:`default`}}),q=j.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},a)=>(0,W.jsx)(r?be:`button`,{className:U(hn({variant:t,size:n,className:e})),ref:a,...i}));q.displayName=`Button`;function gn(){let[e,t]=(0,j.useState)([]),[n,r]=(0,j.useState)(!1),[i,a]=(0,j.useState)(``),[o,s]=(0,j.useState)(1),[c,l]=(0,j.useState)(0),u=()=>{r(!0);let e=new URLSearchParams({page:o.toString(),pageSize:`20`,keyword:i});fetch(`/api/records/forwarded?${e}`).then(e=>e.json()).then(e=>{t(e.items),l(e.total),r(!1)}).catch(e=>{console.error(e),r(!1)})};return(0,j.useEffect)(()=>{u()},[o]),(0,W.jsxs)(`div`,{className:`p-4 space-y-4`,children:[(0,W.jsxs)(`div`,{className:`flex gap-2`,children:[(0,W.jsx)(mn,{placeholder:`Search keyword...`,value:i,onChange:e=>a(e.target.value),className:`max-w-sm`}),(0,W.jsx)(q,{onClick:()=>{s(1),u()},children:`Search`}),(0,W.jsx)(q,{variant:`outline`,onClick:()=>{let t=`data:text/csv;charset=utf-8,Time,Brief,Content,QQ Room,QQ Sender,TG Chat
`+e.map(e=>`${new Date(e.time*1e3).toLocaleString()},"${e.brief}","${e.tgMessageText||``}",${e.qqRoomId},${e.qqSenderId},${e.tgChatId}`).join(`
`),n=encodeURI(t),r=document.createElement(`a`);r.setAttribute(`href`,n),r.setAttribute(`download`,`chat_logs.csv`),document.body.appendChild(r),r.click()},children:`Export CSV`})]}),(0,W.jsx)(`div`,{className:`border rounded-md`,children:(0,W.jsxs)(cn,{children:[(0,W.jsx)(ln,{children:(0,W.jsxs)(fn,{children:[(0,W.jsx)(G,{children:`Time`}),(0,W.jsx)(G,{children:`Brief`}),(0,W.jsx)(G,{children:`Content`}),(0,W.jsx)(G,{children:`QQ Room`}),(0,W.jsx)(G,{children:`TG Chat`})]})}),(0,W.jsx)(un,{children:n?(0,W.jsx)(fn,{children:(0,W.jsx)(K,{colSpan:5,className:`text-center`,children:`Loading...`})}):e.map(e=>(0,W.jsxs)(fn,{children:[(0,W.jsx)(K,{children:new Date(e.time*1e3).toLocaleString()}),(0,W.jsx)(K,{children:e.brief}),(0,W.jsx)(K,{className:`max-w-md truncate`,title:e.tgMessageText,children:e.tgMessageText}),(0,W.jsx)(K,{children:e.qqRoomId}),(0,W.jsx)(K,{children:e.tgChatId})]},e.id))})]})}),(0,W.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,W.jsxs)(`div`,{children:[`Total: `,c]}),(0,W.jsxs)(`div`,{className:`flex gap-2`,children:[(0,W.jsx)(q,{disabled:o<=1,onClick:()=>s(e=>e-1),children:`Prev`}),(0,W.jsx)(q,{disabled:o*20>=c,onClick:()=>s(e=>e+1),children:`Next`})]})]})]})}var J=``;const _n={baseURL:J,endpoints:{auth:{login:`${J}/api/auth/login`,loginWithToken:`${J}/api/auth/login/token`,logout:`${J}/api/auth/logout`,me:`${J}/api/auth/me`,createUser:`${J}/api/auth/users`,changePassword:`${J}/api/auth/change-password`},instances:`${J}/api/instances`,statistics:`${J}/api/statistics`}};console.log(`[API Config] Using API origin:`,`relative paths (dev mode)`);var vn=(0,j.createContext)(void 0);function yn({children:e}){let[t,n]=(0,j.useState)(null),[r,i]=(0,j.useState)(null),[a,o]=(0,j.useState)(!0);(0,j.useEffect)(()=>{let e=localStorage.getItem(`admin_token`);e?s(e):o(!1)},[]);let s=async e=>{try{let t=await fetch(_n.endpoints.auth.me,{headers:{Authorization:`Bearer ${e}`}});t.ok?(n((await t.json()).user),i(e)):localStorage.removeItem(`admin_token`)}catch(e){console.error(`Token verification failed:`,e),localStorage.removeItem(`admin_token`)}finally{o(!1)}};return(0,W.jsx)(vn.Provider,{value:{user:t,token:r,login:async(e,t)=>{try{let n;if(n=t?await fetch(_n.endpoints.auth.login,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify({username:e,password:t})}):await fetch(_n.endpoints.auth.loginWithToken,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify({token:e})}),n.ok){let t=(await n.json()).token||e;return i(t),localStorage.setItem(`admin_token`,t),await s(t),!0}return!1}catch(e){return console.error(`Login failed:`,e),!1}},logout:async()=>{try{r&&await fetch(_n.endpoints.auth.logout,{method:`POST`,headers:{Authorization:`Bearer ${r}`}})}catch(e){console.error(`Logout failed:`,e)}finally{n(null),i(null),localStorage.removeItem(`admin_token`)}},isAuthenticated:!!r,isLoading:a},children:e})}function Y(){let e=(0,j.useContext)(vn);if(e===void 0)throw Error(`useAuth must be used within an AuthProvider`);return e}function bn({children:e}){let{isAuthenticated:t,isLoading:n}=Y();return n?(0,W.jsx)(`div`,{className:`min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900`,children:(0,W.jsx)(s,{className:`h-8 w-8 animate-spin text-blue-600`})}):t?(0,W.jsx)(W.Fragment,{children:e}):(0,W.jsx)(Se,{to:`/ui/login`,replace:!0})}var xn=ze(`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70`),Sn=j.forwardRef(({className:e,...t},n)=>(0,W.jsx)(i,{ref:n,className:U(xn(),e),...t}));Sn.displayName=i.displayName;var X=j.forwardRef(({className:e,...t},n)=>(0,W.jsx)(`div`,{ref:n,className:U(`rounded-xl border bg-card text-card-foreground shadow`,e),...t}));X.displayName=`Card`;var Z=j.forwardRef(({className:e,...t},n)=>(0,W.jsx)(`div`,{ref:n,className:U(`flex flex-col space-y-1.5 p-6`,e),...t}));Z.displayName=`CardHeader`;var Q=j.forwardRef(({className:e,...t},n)=>(0,W.jsx)(`div`,{ref:n,className:U(`font-semibold leading-none tracking-tight`,e),...t}));Q.displayName=`CardTitle`;var Cn=j.forwardRef(({className:e,...t},n)=>(0,W.jsx)(`div`,{ref:n,className:U(`text-sm text-muted-foreground`,e),...t}));Cn.displayName=`CardDescription`;var $=j.forwardRef(({className:e,...t},n)=>(0,W.jsx)(`div`,{ref:n,className:U(`p-6 pt-0`,e),...t}));$.displayName=`CardContent`;var wn=j.forwardRef(({className:e,...t},n)=>(0,W.jsx)(`div`,{ref:n,className:U(`flex items-center p-6 pt-0`,e),...t}));wn.displayName=`CardFooter`;var Tn=ze(`relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7`,{variants:{variant:{default:`bg-background text-foreground`,destructive:`border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive`}},defaultVariants:{variant:`default`}}),En=j.forwardRef(({className:e,variant:t,...n},r)=>(0,W.jsx)(`div`,{ref:r,role:`alert`,className:U(Tn({variant:t}),e),...n}));En.displayName=`Alert`;var Dn=j.forwardRef(({className:e,...t},n)=>(0,W.jsx)(`h5`,{ref:n,className:U(`mb-1 font-medium leading-none tracking-tight`,e),...t}));Dn.displayName=`AlertTitle`;var On=j.forwardRef(({className:e,...t},n)=>(0,W.jsx)(`div`,{ref:n,className:U(`text-sm [&_p]:leading-relaxed`,e),...t}));On.displayName=`AlertDescription`;function kn(){let e=de(),{login:t}=Y(),[n,r]=(0,j.useState)(!1),[i,a]=(0,j.useState)(null),[o,c]=(0,j.useState)(``);return(0,W.jsxs)(`div`,{className:`login-page relative overflow-hidden`,children:[(0,W.jsxs)(`div`,{className:`absolute inset-0 overflow-hidden`,children:[(0,W.jsx)(`div`,{className:`absolute top-0 -left-4 w-96 h-96 bg-blue-500 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-blob`}),(0,W.jsx)(`div`,{className:`absolute top-0 -right-4 w-96 h-96 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-blob animation-delay-2000`}),(0,W.jsx)(`div`,{className:`absolute -bottom-8 left-20 w-96 h-96 bg-indigo-500 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-blob animation-delay-4000`})]}),(0,W.jsxs)(X,{className:`login-card relative z-10 w-full max-w-md mx-auto shadow-2xl border-slate-700/50 bg-slate-900/50 backdrop-blur-xl`,children:[(0,W.jsxs)(Z,{className:`space-y-6 pb-6 pt-8`,children:[(0,W.jsx)(`div`,{className:`flex justify-center mb-4`,children:(0,W.jsx)(`div`,{className:`p-3 bg-blue-500/10 rounded-full ring-1 ring-blue-500/20 shadow-lg shadow-blue-500/10`,children:(0,W.jsx)(Re,{className:`w-8 h-8 text-blue-400`})})}),(0,W.jsx)(Q,{className:`text-3xl font-bold text-center bg-gradient-to-r from-blue-400 via-indigo-400 to-purple-400 bg-clip-text text-transparent`,children:`欢迎使用 NapGram`}),(0,W.jsx)(Cn,{className:`text-center text-slate-400 text-lg`,children:`请输入您的 Access Token`})]}),(0,W.jsxs)($,{className:`space-y-8 pb-8`,children:[(0,W.jsxs)(`form`,{onSubmit:async n=>{n.preventDefault(),a(null),r(!0);try{await t(o)?e(`/ui/admin`):a(`Token 无效或已过期`)}catch{a(`登录失败，请稍后重试`)}finally{r(!1)}},className:`space-y-8`,children:[(0,W.jsxs)(`div`,{className:`space-y-4`,children:[(0,W.jsx)(Sn,{htmlFor:`token`,className:`text-slate-300 text-base ml-1`,children:`Access Token`}),(0,W.jsxs)(`div`,{className:`relative group`,children:[(0,W.jsx)(mn,{id:`token`,type:`password`,placeholder:`sk-...`,value:o,onChange:e=>c(e.target.value),disabled:n,required:!0,className:`login-input pl-4 pr-10 py-6 text-lg bg-slate-800/50 border-slate-700 focus:border-blue-500 focus:ring-blue-500/20 transition-all duration-300 group-hover:border-slate-600`}),(0,W.jsx)(Re,{className:`absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500 group-hover:text-slate-400 transition-colors`})]}),(0,W.jsxs)(`p`,{className:`text-sm text-slate-500 flex items-center gap-1.5 ml-1`,children:[(0,W.jsx)(l,{className:`w-4 h-4`}),`从环境变量 ADMIN_TOKEN 获取`]})]}),i&&(0,W.jsx)(En,{variant:`destructive`,className:`bg-red-500/10 border-red-500/50 text-red-200`,children:(0,W.jsxs)(On,{className:`flex items-center gap-2`,children:[(0,W.jsx)(`span`,{className:`w-1.5 h-1.5 rounded-full bg-red-500 animate-pulse`}),i]})}),(0,W.jsx)(`div`,{className:`flex justify-center pt-2`,children:(0,W.jsx)(q,{type:`submit`,className:`w-48 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500 text-white font-semibold text-lg shadow-lg shadow-blue-500/25 transition-all duration-300 h-12 rounded-full hover:scale-105 active:scale-95`,disabled:n,children:n?(0,W.jsx)(s,{className:`mr-2 h-5 w-5 animate-spin`}):`进入系统`})})]}),(0,W.jsx)(`div`,{className:`mt-8 pt-6 border-t border-slate-700/30 flex flex-col items-center gap-3`,children:(0,W.jsxs)(`a`,{href:`https://t.me/napgram`,target:`_blank`,rel:`noopener noreferrer`,className:`text-slate-400 hover:text-blue-400 transition-colors flex items-center gap-2 group text-sm`,children:[(0,W.jsx)(l,{className:`w-4 h-4 group-hover:rotate-12 transition-transform`}),(0,W.jsx)(`span`,{children:`没有 Token？加入 Telegram 群组咨询`})]})})]})]}),(0,W.jsxs)(`div`,{className:`absolute bottom-6 left-0 right-0 text-center`,children:[(0,W.jsx)(`p`,{className:`text-slate-600 text-sm font-medium`,children:`NapGram Admin Panel`}),(0,W.jsx)(`p`,{className:`text-slate-700 text-xs mt-1`,children:`Version 0.1.0`})]}),(0,W.jsx)(`style`,{children:`
                @keyframes blob {
                    0%, 100% { transform: translate(0, 0) scale(1); }
                    25% { transform: translate(20px, -20px) scale(1.1); }
                    50% { transform: translate(0, 20px) scale(1); }
                    75% { transform: translate(-20px, -10px) scale(0.9); }
                }
                .animate-blob {
                    animation: blob 7s infinite;
                }
                .animation-delay-2000 {
                    animation-delay: 2s;
                }
                .animation-delay-4000 {
                    animation-delay: 4s;
                }
            `})]})}var An=[{name:`仪表板`,href:`/ui/admin`,icon:g},{name:`配对管理`,href:`/ui/admin/pairs`,icon:u},{name:`实例管理`,href:`/ui/admin/instances`,icon:h},{name:`消息记录`,href:`/ui/admin/messages`,icon:m},{name:`统计分析`,href:`/ui/admin/statistics`,icon:c},{name:`系统日志`,href:`/ui/admin/logs`,icon:r},{name:`系统设置`,href:`/ui/admin/settings`,icon:a}];function jn(){let e=Ne();return(0,W.jsx)(`div`,{className:`hidden md:flex md:w-64 md:flex-col`,children:(0,W.jsxs)(`div`,{className:`flex flex-col flex-grow border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 overflow-y-auto`,children:[(0,W.jsx)(`div`,{className:`flex items-center flex-shrink-0 px-4 py-5 border-b border-gray-200 dark:border-gray-700`,children:(0,W.jsx)(`h1`,{className:`text-xl font-bold text-gray-900 dark:text-white`,children:`NapGram 管理面板`})}),(0,W.jsx)(`nav`,{className:`flex-1 px-2 py-4 space-y-1`,children:An.map(t=>{let n=e.pathname===t.href||t.href!==`/ui/admin`&&e.pathname.startsWith(t.href),r=t.icon;return(0,W.jsxs)(ue,{to:t.href,className:U(`group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors`,n?`bg-blue-50 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400`:`text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700`),children:[(0,W.jsx)(r,{className:U(`mr-3 h-5 w-5 flex-shrink-0`,n?`text-blue-600 dark:text-blue-400`:`text-gray-400 group-hover:text-gray-500 dark:group-hover:text-gray-300`)}),t.name]},t.name)})})]})})}var Mn=y,Nn=re,Pn=j.forwardRef(({className:e,inset:t,children:n,...r},i)=>(0,W.jsxs)(Ie,{ref:i,className:U(`flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0`,t&&`pl-8`,e),...r,children:[n,(0,W.jsx)(ae,{className:`ml-auto`})]}));Pn.displayName=Ie.displayName;var Fn=j.forwardRef(({className:e,...t},n)=>(0,W.jsx)(b,{ref:n,className:U(`z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]`,e),...t}));Fn.displayName=b.displayName;var In=j.forwardRef(({className:e,sideOffset:t=4,...n},r)=>(0,W.jsx)(A,{children:(0,W.jsx)(k,{ref:r,sideOffset:t,className:U(`z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md`,`data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]`,e),...n})}));In.displayName=k.displayName;var Ln=j.forwardRef(({className:e,inset:t,...n},r)=>(0,W.jsx)(C,{ref:r,className:U(`relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0`,t&&`pl-8`,e),...n}));Ln.displayName=C.displayName;var Rn=j.forwardRef(({className:e,children:t,checked:n,...r},i)=>(0,W.jsxs)(x,{ref:i,className:U(`relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50`,e),checked:n,...r,children:[(0,W.jsx)(`span`,{className:`absolute left-2 flex h-3.5 w-3.5 items-center justify-center`,children:(0,W.jsx)(pe,{children:(0,W.jsx)(_,{className:`h-4 w-4`})})}),t]}));Rn.displayName=x.displayName;var zn=j.forwardRef(({className:e,children:t,...n},r)=>(0,W.jsxs)(w,{ref:r,className:U(`relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50`,e),...n,children:[(0,W.jsx)(`span`,{className:`absolute left-2 flex h-3.5 w-3.5 items-center justify-center`,children:(0,W.jsx)(pe,{children:(0,W.jsx)(oe,{className:`h-2 w-2 fill-current`})})}),t]}));zn.displayName=w.displayName;var Bn=j.forwardRef(({className:e,inset:t,...n},r)=>(0,W.jsx)(Ce,{ref:r,className:U(`px-2 py-1.5 text-sm font-semibold`,t&&`pl-8`,e),...n}));Bn.displayName=Ce.displayName;var Vn=j.forwardRef(({className:e,...t},n)=>(0,W.jsx)(Pe,{ref:n,className:U(`-mx-1 my-1 h-px bg-muted`,e),...t}));Vn.displayName=Pe.displayName;var Hn=({className:e,...t})=>(0,W.jsx)(`span`,{className:U(`ml-auto text-xs tracking-widest opacity-60`,e),...t});Hn.displayName=`DropdownMenuShortcut`;function Un(){let e=de(),{user:t,logout:n}=Y();return(0,W.jsx)(`header`,{className:`bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4`,children:(0,W.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,W.jsx)(`div`,{className:`flex items-center`,children:(0,W.jsx)(`h2`,{className:`text-lg font-semibold text-gray-900 dark:text-white`,children:`管理控制台`})}),(0,W.jsx)(`div`,{className:`flex items-center space-x-4`,children:(0,W.jsxs)(Mn,{children:[(0,W.jsx)(Nn,{asChild:!0,children:(0,W.jsx)(q,{variant:`ghost`,className:`relative h-10 w-10 rounded-full`,children:(0,W.jsx)(Qt,{children:(0,W.jsx)(en,{className:`bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400`,children:t?.displayName?.[0]||t?.username?.[0]||`A`})})})}),(0,W.jsxs)(In,{align:`end`,className:`w-56`,children:[(0,W.jsx)(Bn,{children:(0,W.jsxs)(`div`,{className:`flex flex-col space-y-1`,children:[(0,W.jsx)(`p`,{className:`text-sm font-medium leading-none`,children:t?.displayName||t?.username||`管理员`}),t?.email&&(0,W.jsx)(`p`,{className:`text-xs leading-none text-muted-foreground`,children:t.email})]})}),(0,W.jsx)(Vn,{}),(0,W.jsxs)(Ln,{onClick:()=>e(`/ui/admin/profile`),children:[(0,W.jsx)(Fe,{className:`mr-2 h-4 w-4`}),(0,W.jsx)(`span`,{children:`个人资料`})]}),(0,W.jsxs)(Ln,{onClick:()=>e(`/ui/admin/settings`),children:[(0,W.jsx)(Fe,{className:`mr-2 h-4 w-4`}),(0,W.jsx)(`span`,{children:`系统设置`})]}),(0,W.jsx)(Vn,{}),(0,W.jsxs)(Ln,{onClick:async()=>{await n(),e(`/ui/login`)},children:[(0,W.jsx)(te,{className:`mr-2 h-4 w-4`}),(0,W.jsx)(`span`,{children:`登出`})]})]})]})})]})})}function Wn(){return(0,W.jsxs)(`div`,{className:`flex h-screen bg-gray-50 dark:bg-gray-900`,children:[(0,W.jsx)(jn,{}),(0,W.jsxs)(`div`,{className:`flex-1 flex flex-col overflow-hidden`,children:[(0,W.jsx)(Un,{}),(0,W.jsx)(`main`,{className:`flex-1 overflow-y-auto p-6`,children:(0,W.jsx)(ke,{})})]})]})}function Gn(){let{token:e}=Y(),[t,n]=(0,j.useState)(null),[r,i]=(0,j.useState)([]),[a,o]=(0,j.useState)(!0);(0,j.useEffect)(()=>{s(),c();let e=setInterval(()=>{s()},3e4);return()=>clearInterval(e)},[e]);let s=async()=>{try{let t=await fetch(`/api/admin/statistics/overview`,{headers:{Authorization:`Bearer ${e}`}});t.ok&&n((await t.json()).data)}catch(e){console.error(`Failed to fetch stats:`,e)}finally{o(!1)}},c=async()=>{try{let t=await fetch(`/api/admin/statistics/messages/trend?days=7`,{headers:{Authorization:`Bearer ${e}`}});t.ok&&i((await t.json()).data)}catch(e){console.error(`Failed to fetch trend:`,e)}};return a?(0,W.jsx)(`div`,{className:`p-6`,children:`加载中...`}):(0,W.jsxs)(`div`,{className:`space-y-6`,children:[(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`h1`,{className:`text-3xl font-bold text-gray-900 dark:text-white`,children:`仪表板`}),(0,W.jsx)(`p`,{className:`text-gray-600 dark:text-gray-400 mt-2`,children:`系统概览和关键指标`})]}),(0,W.jsxs)(`div`,{className:`grid gap-6 md:grid-cols-2 lg:grid-cols-4`,children:[(0,W.jsxs)(X,{children:[(0,W.jsxs)(Z,{className:`flex flex-row items-center justify-between pb-2`,children:[(0,W.jsx)(Q,{className:`text-sm font-medium text-gray-600 dark:text-gray-400`,children:`转发配对`}),(0,W.jsx)(f,{className:`h-4 w-4 text-gray-600 dark:text-gray-400`})]}),(0,W.jsxs)($,{children:[(0,W.jsx)(`div`,{className:`text-2xl font-bold`,children:t?.pairCount||0}),(0,W.jsx)(`p`,{className:`text-xs text-gray-600 dark:text-gray-400 mt-1`,children:`活跃的 QQ-TG 配对`})]})]}),(0,W.jsxs)(X,{children:[(0,W.jsxs)(Z,{className:`flex flex-row items-center justify-between pb-2`,children:[(0,W.jsx)(Q,{className:`text-sm font-medium text-gray-600 dark:text-gray-400`,children:`实例数 量`}),(0,W.jsx)(h,{className:`h-4 w-4 text-gray-600 dark:text-gray-400`})]}),(0,W.jsxs)($,{children:[(0,W.jsx)(`div`,{className:`text-2xl font-bold`,children:t?.instanceCount||0}),(0,W.jsx)(`p`,{className:`text-xs text-gray-600 dark:text-gray-400 mt-1`,children:`运行中的实例`})]})]}),(0,W.jsxs)(X,{children:[(0,W.jsxs)(Z,{className:`flex flex-row items-center justify-between pb-2`,children:[(0,W.jsx)(Q,{className:`text-sm font-medium text-gray-600 dark:text-gray-400`,children:`消息总数`}),(0,W.jsx)(m,{className:`h-4 w-4 text-gray-600 dark:text-gray-400`})]}),(0,W.jsxs)($,{children:[(0,W.jsx)(`div`,{className:`text-2xl font-bold`,children:t?.messageCount?.toLocaleString()||0}),(0,W.jsxs)(`p`,{className:`text-xs text-gray-600 dark:text-gray-400 mt-1`,children:[`今日: `,t?.todayMessageCount||0]})]})]}),(0,W.jsxs)(X,{children:[(0,W.jsxs)(Z,{className:`flex flex-row items-center justify-between pb-2`,children:[(0,W.jsx)(Q,{className:`text-sm font-medium text-gray-600 dark:text-gray-400`,children:`系统状态`}),(0,W.jsx)(d,{className:`h-4 w-4 text-gray-600 dark:text-gray-400`})]}),(0,W.jsxs)($,{children:[(0,W.jsxs)(`div`,{className:`flex items-center space-x-2`,children:[(0,W.jsx)(`div`,{className:`h-3 w-3 rounded-full ${t?.status===`healthy`?`bg-green-500`:t?.status===`degraded`?`bg-yellow-500`:`bg-red-500`}`}),(0,W.jsx)(`span`,{className:`text-sm font-medium capitalize`,children:t?.status===`healthy`?`正常`:t?.status===`degraded`?`降级`:`异常`})]}),(0,W.jsxs)(`p`,{className:`text-xs text-gray-600 dark:text-gray-400 mt-1`,children:[`日均: `,t?.avgMessagesPerDay||0,` 条`]})]})]})]}),(0,W.jsxs)(X,{children:[(0,W.jsx)(Z,{children:(0,W.jsxs)(Q,{className:`flex items-center`,children:[(0,W.jsx)(ie,{className:`h-5 w-5 mr-2`}),`消息趋势（近7天）`]})}),(0,W.jsx)($,{children:(0,W.jsx)(Oe,{width:`100%`,height:300,children:(0,W.jsxs)(Ae,{data:r,children:[(0,W.jsx)(le,{strokeDasharray:`3 3`,className:`stroke-gray-200 dark:stroke-gray-700`}),(0,W.jsx)(Ee,{dataKey:`date`,className:`text-xs`,tickFormatter:e=>new Date(e).toLocaleDateString(`zh-CN`,{month:`short`,day:`numeric`})}),(0,W.jsx)(ye,{className:`text-xs`}),(0,W.jsx)(xe,{labelFormatter:e=>new Date(e).toLocaleDateString(`zh-CN`),formatter:e=>[`${e} 条消息`,`数量`]}),(0,W.jsx)(he,{type:`monotone`,dataKey:`count`,stroke:`#3b82f6`,strokeWidth:2,dot:{fill:`#3b82f6`,r:4},activeDot:{r:6}})]})})})]}),(0,W.jsxs)(X,{children:[(0,W.jsx)(Z,{children:(0,W.jsx)(Q,{children:`快速操作`})}),(0,W.jsxs)($,{className:`grid gap-4 md:grid-cols-2`,children:[(0,W.jsxs)(`a`,{href:`/ui/admin/pairs`,className:`flex items-center p-4 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors`,children:[(0,W.jsx)(f,{className:`h-5 w-5 mr-3 text-blue-600`}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`h3`,{className:`font-medium`,children:`管理配对`}),(0,W.jsx)(`p`,{className:`text-sm text-gray-600 dark:text-gray-400`,children:`添加或编辑 QQ-TG 转发配对`})]})]}),(0,W.jsxs)(`a`,{href:`/ui/admin/instances`,className:`flex items-center p-4 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors`,children:[(0,W.jsx)(h,{className:`h-5 w-5 mr-3 text-blue-600`}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`h3`,{className:`font-medium`,children:`管理实例`}),(0,W.jsx)(`p`,{className:`text-sm text-gray-600 dark:text-gray-400`,children:`配置 Bot 实例和连接`})]})]})]})]})]})}function Kn(){let{token:e}=Y(),[t,n]=(0,j.useState)([]),[r,i]=(0,j.useState)(!0);(0,j.useEffect)(()=>{a()},[e]);let a=async()=>{try{let t=await fetch(`/api/admin/pairs`,{headers:{Authorization:`Bearer ${e}`}});t.ok&&n((await t.json()).items||[])}catch(e){console.error(`Failed to fetch pairs:`,e)}finally{i(!1)}},s=async r=>{if(confirm(`确定要删除此配对吗？`))try{(await fetch(`/api/admin/pairs/${r}`,{method:`DELETE`,headers:{Authorization:`Bearer ${e}`}})).ok&&n(t.filter(e=>e.id!==r))}catch(e){console.error(`Failed to delete pair:`,e)}},c=e=>{if(!e)return`默认`;switch(e){case`00`:return`全禁用`;case`01`:return`仅 TG→QQ`;case`10`:return`仅 QQ→TG`;case`11`:return`双向`;default:return e}};return r?(0,W.jsx)(`div`,{className:`p-6`,children:`加载中...`}):(0,W.jsxs)(`div`,{className:`space-y-6`,children:[(0,W.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`h1`,{className:`text-3xl font-bold text-gray-900 dark:text-white`,children:`配对管理`}),(0,W.jsx)(`p`,{className:`text-gray-600 dark:text-gray-400 mt-2`,children:`管理 QQ 群与 Telegram 聊天的转发配对`})]}),(0,W.jsxs)(q,{children:[(0,W.jsx)(ge,{className:`h-4 w-4 mr-2`}),`添加配对`]})]}),(0,W.jsx)(X,{children:(0,W.jsx)(`div`,{className:`overflow-x-auto`,children:(0,W.jsxs)(`table`,{className:`w-full`,children:[(0,W.jsx)(`thead`,{className:`bg-gray-50 dark:bg-gray-800 border-b`,children:(0,W.jsxs)(`tr`,{children:[(0,W.jsx)(`th`,{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider`,children:`ID`}),(0,W.jsx)(`th`,{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider`,children:`QQ 群 ID`}),(0,W.jsx)(`th`,{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider`,children:`TG Chat ID`}),(0,W.jsx)(`th`,{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider`,children:`话题 ID`}),(0,W.jsx)(`th`,{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider`,children:`转发模式`}),(0,W.jsx)(`th`,{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider`,children:`昵称模式`}),(0,W.jsx)(`th`,{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider`,children:`实例 ID`}),(0,W.jsx)(`th`,{className:`px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider`,children:`操作`})]})}),(0,W.jsx)(`tbody`,{className:`bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700`,children:t.length===0?(0,W.jsx)(`tr`,{children:(0,W.jsx)(`td`,{colSpan:8,className:`px-6 py-12 text-center text-gray-500 dark:text-gray-400`,children:`暂无配对数据`})}):t.map(e=>(0,W.jsxs)(`tr`,{className:`hover:bg-gray-50 dark:hover:bg-gray-800`,children:[(0,W.jsxs)(`td`,{className:`px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white`,children:[`#`,e.id]}),(0,W.jsx)(`td`,{className:`px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300`,children:e.qqRoomId}),(0,W.jsx)(`td`,{className:`px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300`,children:e.tgChatId}),(0,W.jsx)(`td`,{className:`px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300`,children:e.tgThreadId||`-`}),(0,W.jsx)(`td`,{className:`px-6 py-4 whitespace-nowrap`,children:(0,W.jsx)(`span`,{className:`px-2 py-1 text-xs font-medium rounded-full bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200`,children:c(e.forwardMode)})}),(0,W.jsx)(`td`,{className:`px-6 py-4 whitespace-nowrap`,children:(0,W.jsx)(`span`,{className:`px-2 py-1 text-xs font-medium rounded-full bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200`,children:c(e.nicknameMode)})}),(0,W.jsx)(`td`,{className:`px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300`,children:e.instanceId}),(0,W.jsx)(`td`,{className:`px-6 py-4 whitespace-nowrap text-right text-sm font-medium`,children:(0,W.jsxs)(`div`,{className:`flex justify-end space-x-2`,children:[(0,W.jsx)(q,{variant:`ghost`,size:`sm`,children:(0,W.jsx)(p,{className:`h-4 w-4`})}),(0,W.jsx)(q,{variant:`ghost`,size:`sm`,onClick:()=>s(e.id),className:`text-red-600 hover:text-red-700 hover:bg-red-50`,children:(0,W.jsx)(o,{className:`h-4 w-4`})})]})})]},e.id))})]})})})]})}function qn(){let{token:e}=Y(),[t,r]=(0,j.useState)([]),[i,a]=(0,j.useState)(!0);(0,j.useEffect)(()=>{s()},[e]);let s=async()=>{try{let t=await fetch(`/api/admin/instances`,{headers:{Authorization:`Bearer ${e}`}});t.ok&&r((await t.json()).items||[])}catch(e){console.error(`Failed to fetch instances:`,e)}finally{a(!1)}},c=async n=>{if(confirm(`确定要删除此实例吗？这将同时删除关联的所有配对。`))try{(await fetch(`/api/admin/instances/${n}`,{method:`DELETE`,headers:{Authorization:`Bearer ${e}`}})).ok&&r(t.filter(e=>e.id!==n))}catch(e){console.error(`Failed to delete instance:`,e)}},l=e=>{if(!e.qqBot)return(0,W.jsx)(`span`,{className:`px-2 py-1 text-xs font-medium rounded-full bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200`,children:`未配置`});let t=e.isSetup;return(0,W.jsx)(`span`,{className:`px-2 py-1 text-xs font-medium rounded-full flex items-center ${t?`bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200`:`bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200`}`,children:t?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(n,{className:`h-3 w-3 mr-1`}),`在线`]}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(O,{className:`h-3 w-3 mr-1`}),`离线`]})})};return i?(0,W.jsx)(`div`,{className:`p-6`,children:`加载中...`}):(0,W.jsxs)(`div`,{className:`space-y-6`,children:[(0,W.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`h1`,{className:`text-3xl font-bold text-gray-900 dark:text-white`,children:`实例管理`}),(0,W.jsx)(`p`,{className:`text-gray-600 dark:text-gray-400 mt-2`,children:`管理 NapGram 实例和 QQ Bot 配置`})]}),(0,W.jsxs)(q,{children:[(0,W.jsx)(ge,{className:`h-4 w-4 mr-2`}),`添加实例`]})]}),(0,W.jsx)(`div`,{className:`grid gap-6 md:grid-cols-2 lg:grid-cols-3`,children:t.length===0?(0,W.jsx)(`div`,{className:`col-span-full text-center py-12 text-gray-500 dark:text-gray-400`,children:`暂无实例`}):t.map(e=>(0,W.jsxs)(X,{className:`p-6`,children:[(0,W.jsxs)(`div`,{className:`flex items-start justify-between mb-4`,children:[(0,W.jsxs)(`div`,{children:[(0,W.jsxs)(`h3`,{className:`text-lg font-semibold text-gray-900 dark:text-white`,children:[`实例 #`,e.id]}),(0,W.jsxs)(`p`,{className:`text-sm text-gray-600 dark:text-gray-400 mt-1`,children:[`Owner: `,e.owner]})]}),l(e)]}),(0,W.jsxs)(`div`,{className:`space-y-3 text-sm`,children:[(0,W.jsxs)(`div`,{className:`flex justify-between`,children:[(0,W.jsx)(`span`,{className:`text-gray-600 dark:text-gray-400`,children:`工作模式:`}),(0,W.jsx)(`span`,{className:`font-medium text-gray-900 dark:text-white`,children:e.workMode||`未设置`})]}),(0,W.jsxs)(`div`,{className:`flex justify-between`,children:[(0,W.jsx)(`span`,{className:`text-gray-600 dark:text-gray-400`,children:`QQ Bot:`}),(0,W.jsx)(`span`,{className:`font-medium text-gray-900 dark:text-white`,children:e.qqBot?(0,W.jsxs)(`span`,{className:`flex items-center`,children:[e.qqBot.type===`napcat`?`NapCat`:`OICQ`,e.qqBot.uin&&(0,W.jsxs)(`span`,{className:`ml-1 text-xs text-gray-500`,children:[`(`,e.qqBot.uin,`)`]})]}):`未配置`})]}),(0,W.jsxs)(`div`,{className:`flex justify-between`,children:[(0,W.jsx)(`span`,{className:`text-gray-600 dark:text-gray-400`,children:`配对数量:`}),(0,W.jsx)(`span`,{className:`font-medium text-gray-900 dark:text-white`,children:e.pairCount})]}),e.qqBot?.wsUrl&&(0,W.jsx)(`div`,{className:`pt-2 border-t border-gray-200 dark:border-gray-700`,children:(0,W.jsxs)(`span`,{className:`text-xs text-gray-500 dark:text-gray-400`,children:[`WS: `,e.qqBot.wsUrl]})})]}),(0,W.jsxs)(`div`,{className:`flex gap-2 mt-6 pt-4 border-t border-gray-200 dark:border-gray-700`,children:[(0,W.jsxs)(q,{variant:`outline`,size:`sm`,className:`flex-1`,children:[(0,W.jsx)(p,{className:`h-4 w-4 mr-2`}),`编辑`]}),(0,W.jsx)(q,{variant:`outline`,size:`sm`,onClick:()=>c(e.id),className:`text-red-600 hover:text-red-700 hover:border-red-300 hover:bg-red-50 dark:hover:bg-red-900/20`,children:(0,W.jsx)(o,{className:`h-4 w-4`})})]})]},e.id))})]})}function Jn(){let{uuid:e}=me();return e?(0,W.jsx)(an,{uuid:e}):(0,W.jsx)(`div`,{children:`No UUID provided`})}function Yn(){let[e]=we(),t=e.get(`tgWebAppStartParam`)||e.get(`uuid`)||e.get(`id`);return t?(0,W.jsx)(an,{uuid:t}):(0,W.jsx)(`div`,{className:`p-4 text-red-500`,children:`Missing uuid`})}function Xn(){return(0,W.jsx)(yn,{children:(0,W.jsx)(D,{basename:`/ui`,children:(0,W.jsxs)(_e,{children:[(0,W.jsx)(S,{path:`/login`,element:(0,W.jsx)(kn,{})}),(0,W.jsx)(S,{path:`/chatRecord`,element:(0,W.jsx)(Yn,{})}),(0,W.jsx)(S,{path:`/merged/:uuid`,element:(0,W.jsx)(Jn,{})}),(0,W.jsx)(S,{path:`/records`,element:(0,W.jsx)(gn,{})}),(0,W.jsxs)(S,{path:`/admin`,element:(0,W.jsx)(bn,{children:(0,W.jsx)(Wn,{})}),children:[(0,W.jsx)(S,{index:!0,element:(0,W.jsx)(Gn,{})}),(0,W.jsx)(S,{path:`pairs`,element:(0,W.jsx)(Kn,{})}),(0,W.jsx)(S,{path:`instances`,element:(0,W.jsx)(qn,{})})]}),(0,W.jsx)(S,{path:`/`,element:(0,W.jsx)(Se,{to:`/admin`,replace:!0})})]})})})}var Zn=Xn;(0,Be.createRoot)(document.getElementById(`root`)).render((0,W.jsx)(j.StrictMode,{children:(0,W.jsx)(Zn,{})}));